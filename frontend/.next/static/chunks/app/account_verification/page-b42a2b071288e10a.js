(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40],{65401:(e,t,n)=>{Promise.resolve().then(n.bind(n,73449))},76046:(e,t,n)=>{"use strict";var r=n(66658);n.o(r,"redirect")&&n.d(t,{redirect:function(){return r.redirect}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})},73449:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(95155),a=n(12115),s=n(76046);function o(){let e=(0,s.useRouter)(),t=(0,s.useSearchParams)(),[n,o]=(0,a.useState)(""),[i,c]=(0,a.useState)(null),[l,u]=(0,a.useState)(!1),d=t.get("access_token"),f=d?JSON.parse(decodeURIComponent(d)):null,h=async()=>{u(!0),c(null);let t={code:n,access_token:null==f?void 0:f.access_token};try{let n=await fetch("/api/verifyemail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await n.json();if(!n.ok)throw Error((null==r?void 0:r.error)||"Verification failed");if(!r.success){c((null==r?void 0:r.error)||"Verification failed");return}let a=encodeURIComponent(JSON.stringify({access_token:r.data.access_token}));e.replace("/onboarding?access_token=".concat(a))}catch(e){c(e instanceof Error?e.message:"An unknown error occurred")}finally{u(!1)}};return(0,r.jsx)("div",{className:"flex w-full flex-col items-center justify-center bg-white h-[100vh]",children:(0,r.jsxs)("div",{className:"w-[600px] p-[32px] bg-white rounded-3xl shadow-lg p-6",children:[(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-6",children:(0,r.jsx)("div",{className:"bg-[#7a0860] h-2.5 rounded-full",style:{width:"66%"}})}),(0,r.jsx)("p",{className:"text-[#080a0b] text-[24px] font-bold leading-8 mb-4",children:"Account Verification"}),(0,r.jsx)("p",{className:"font-inter text-[#080a0b] text-base font-medium leading-6 mb-6",children:"Please enter the verification code sent to your email to verify your account"}),(0,r.jsx)("input",{type:"number",name:"code",value:n,placeholder:"Enter verification code",onChange:e=>{let t=e.target.value;t.length<=6&&o(t)},className:"text-sm text-[#080a0b] border rounded-xl border-[#EEEEEE] h-[52px] py-3 px-4 w-full focus:outline-none"}),i&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-4",children:i}),(0,r.jsx)("button",{disabled:l,className:"text-base rounded-xl w-full p-3.5 font-medium bg-[#7a0860] text-white mt-6 disabled:opacity-70",onClick:h,children:l?"Loading...":"Verify account"})]})})}function i(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(o,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,977],()=>t(65401)),_N_E=e.O()}]);