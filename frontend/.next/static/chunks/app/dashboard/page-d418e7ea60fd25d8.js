(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{87808:(e,a,t)=>{Promise.resolve().then(t.bind(t,49506))},16413:(e,a,t)=>{"use strict";t.d(a,{A:()=>u});var s=t(95155),l=t(12115),r=t(74676),o=t(63219),n=t(35906),i=t(25848);let d=()=>{let e=(0,n.jE)();return(0,i.n)({mutationFn:async()=>{let e=await fetch("/api/logout",{method:"GET"});if(!e.ok)throw Error("Logout failed");return e.json()},onSuccess:()=>{e.removeQueries(),e.clear(),localStorage.removeItem("APP_QUERY_CACHE"),sessionStorage.clear()},onError:e=>{console.error("Logout error:",e)}})};var c=t(76046),x=t(5565);let u=e=>{let{profile:a,editor:t,handleApproveChanges:n}=e,[i,u]=(0,l.useState)(!1),m=(0,l.useRef)(null),h=(0,c.useRouter)(),{mutate:b,isPending:f}=d();return(0,l.useEffect)(()=>{let e=e=>{m.current&&!m.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,s.jsx)("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-gray-100 shadow-sm",children:(0,s.jsxs)("div",{className:"mx-auto px-6 py-3 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Orkyst"}),t&&(0,s.jsx)("span",{className:"hidden md:inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Artwork Editor"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[t&&n&&(0,s.jsx)("button",{onClick:n,className:"px-5 py-2 rounded-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-medium shadow-md hover:shadow-lg transition-all duration-200 hover:opacity-90 active:scale-95",children:"Save Changes"}),(0,s.jsxs)("div",{className:"relative",ref:m,children:[(0,s.jsxs)("button",{onClick:()=>u(e=>!e),className:"flex items-center space-x-2 focus:outline-none group",children:[(0,s.jsx)("div",{className:"relative",children:(null==a?void 0:a.avatar)?(0,s.jsx)(x.default,{src:a.avatar,alt:a.fullname||"User avatar",width:36,height:36,className:"w-9 h-9 rounded-full object-cover"}):(0,s.jsx)(r.A,{sx:{fontSize:36,color:"action.active",backgroundColor:"#f3f4f6",borderRadius:"50%"}})}),(0,s.jsxs)("div",{className:"hidden md:flex flex-col items-start",children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:null==a?void 0:a.fullname}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Admin"})]}),(0,s.jsx)(o.A,{sx:{fontSize:20,color:"action.active",transform:i?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"}})]}),i&&(0,s.jsx)("div",{className:"absolute right-0 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-50 animate-fade-in",children:(0,s.jsxs)("div",{className:"py-1",children:[(0,s.jsxs)("div",{className:"px-4 py-2 border-b border-gray-100",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:null==a?void 0:a.fullname}),(0,s.jsx)("p",{className:"text-xs text-gray-500 truncate",children:null==a?void 0:a.email})]}),(0,s.jsx)("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Your Profile"}),(0,s.jsx)("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Settings"}),(0,s.jsx)("button",{onClick:()=>{b(void 0,{onSuccess:()=>h.push("/")})},disabled:f,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center",children:f?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Logging out..."]}):"Logout"})]})})]})]})]})})}},49506:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>W});var s=t(95155),l=t(58803),r=t.n(l),o=t(12115);t(33174);var n=t(17389),i=t(60960),d=t(50830),c=t(95370),x=t(96939),u=t(72662),m=t(65487),h=t(52701),b=t(97632),f=t(26283),p=t(37419),v=t(10415),g=t(14647),j=t(41116),w=t(61585),y=t(70679),N=t(94419),k=t(31566);let C=(0,n.Hz)({format:i.GP,parse:d.qg,startOfWeek:c.k,getDay:x.P,locales:{"en-US":u.c}}),S={linkedin:{backgroundColor:"rgba(0, 119, 181, 0.12)",color:"#0077b5",borderColor:"#0077b5",iconColor:"#0077b5"},blog:{backgroundColor:"rgba(52, 168, 83, 0.12)",color:"#34a853",borderColor:"#34a853",iconColor:"#34a853"},"social media":{backgroundColor:"rgba(13, 148, 136, 0.12)",color:"#0d9488",borderColor:"#0d9488",iconColor:"#0d9488"},dvc:{backgroundColor:"rgba(106, 64, 150, 0.12)",color:"#6a4096",borderColor:"#6a4096",iconColor:"#6a4096"},twitter:{backgroundColor:"rgba(23, 23, 23, 0.12)",color:"#171717",borderColor:"#171717",iconColor:"#171717"},Podcast:{backgroundColor:"rgba(173, 0, 255, 0.12)",color:"#ad00ff",borderColor:"#ad00ff",iconColor:"#ad00ff"},instagram:{backgroundColor:"rgba(193, 53, 132, 0.12)",color:"#c13584",borderColor:"#c13584",iconColor:"#c13584"},youtube:{backgroundColor:"rgba(255, 0, 0, 0.12)",color:"#ff0000",borderColor:"#ff0000",iconColor:"#ff0000"}},E={linkedin:(0,s.jsx)(m.A,{style:{fontSize:"14px"}}),blog:(0,s.jsx)(h.A,{style:{fontSize:"14px"}}),poll:(0,s.jsx)(b.A,{style:{fontSize:"14px"}}),dvc:(0,s.jsx)(f.A,{style:{fontSize:"14px"}}),social:(0,s.jsx)(p.A,{style:{fontSize:"14px"}}),event:(0,s.jsx)(v.A,{style:{fontSize:"14px"}}),twitter:(0,s.jsx)(g.A,{style:{fontSize:"14px"}}),podcast:(0,s.jsx)(j.A,{style:{fontSize:"14px"}}),instagram:(0,s.jsx)(w.A,{style:{fontSize:"14px"}}),youtube:(0,s.jsx)(y.A,{style:{fontSize:"14px"}}),"twitter space":(0,s.jsx)(g.A,{style:{fontSize:"14px"}}),"twitter thread":(0,s.jsx)(g.A,{style:{fontSize:"14px"}})};function A(e){let{events:a,view:t,onViewChange:l,onSelectSlot:r,showModal:d,handleSelectEvent:c}=e,[x,u]=(0,o.useState)(new Date),m=["twitter","instagram","youtube","linkedin","podcast","blog","social","poll","dvc"],h=e=>{if(!e)return E.event;let a=e.toLowerCase(),t=Object.entries(E).find(e=>{let[t]=e;return t.toLowerCase()===a});if(t)return t[1];for(let e of m)if(a.includes(e))return E[e];return E.event},b=e=>{if(!e)return S.twitter;let a=e.toLowerCase(),t=Object.entries(S).find(e=>{let[t]=e;return t.toLowerCase()===a});if(t)return t[1];for(let e of m)if(a.includes(e))return S[e];return S.twitter},f=a.map(e=>{var a;let t=null===(a=e.type)||void 0===a?void 0:a.toLowerCase();return{...e,icon:h(t),styles:b(t)}});return(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-4 ".concat(d?"pointer-events-none opacity-90":""),children:(0,s.jsx)("div",{className:"h-[70vh]",children:(0,s.jsx)(n.Vv,{localizer:C,events:f,startAccessor:"start",endAccessor:"end",view:t,onView:l,date:x,onNavigate:e=>{u(e)},selectable:!0,onSelectSlot:r,defaultView:"month",views:["month","week","day","agenda"],components:{event:e=>{var a,t,l,r,o;let{event:n}=e;return(0,s.jsx)(N.A,{title:(0,s.jsxs)("div",{className:"p-2",children:[(0,s.jsx)("div",{className:"font-bold text-sm mb-1",children:n.title}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-1",children:[(0,s.jsx)(k.A,{label:n.type,size:"small",className:"text-xs",style:{backgroundColor:null===(a=n.styles)||void 0===a?void 0:a.backgroundColor,color:null===(t=n.styles)||void 0===t?void 0:t.color}}),(0,s.jsx)(k.A,{label:n.audienceFocus,size:"small",className:"text-xs bg-gray-100"})]}),n.description&&(0,s.jsx)("div",{className:"mt-2 text-xs text-gray-600",children:n.description})]}),placement:"top",arrow:!0,children:(0,s.jsxs)("div",{className:"p-1 h-full w-full flex flex-col",style:{backgroundColor:null===(l=n.styles)||void 0===l?void 0:l.backgroundColor,color:null===(r=n.styles)||void 0===r?void 0:r.color,borderLeft:"4px solid ".concat(null===(o=n.styles)||void 0===o?void 0:o.borderColor),borderRadius:"4px"},children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[(0,s.jsx)("span",{className:"flex-shrink-0",children:n.icon}),(0,s.jsx)("span",{className:"text-xs font-medium truncate",children:n.type})]}),(0,s.jsx)("div",{className:"text-sm font-semibold line-clamp-2 leading-tight",children:n.title}),!n.allDay&&(0,s.jsxs)("div",{className:"mt-auto text-xs opacity-80",children:[(0,i.GP)(n.start,"h:mm a")," - ",(0,i.GP)(n.end,"h:mm a")]})]})})},toolbar:e=>(0,s.jsxs)("div",{className:"flex flex-col mb-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("button",{onClick:()=>e.onNavigate("PREV"),className:"p-2 rounded-lg hover:bg-gray-100",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:(0,i.GP)(e.date,"MMMM yyyy")}),(0,s.jsx)("button",{onClick:()=>e.onNavigate("NEXT"),className:"p-2 rounded-lg hover:bg-gray-100",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),(0,s.jsx)("button",{onClick:()=>{e.onNavigate("TODAY"),u(new Date)},className:"text-black ml-2 px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Today"})]}),(0,s.jsx)("div",{className:"flex space-x-1",children:["month","week","day","agenda"].map(a=>(0,s.jsx)("button",{onClick:()=>e.onView(a),className:"text-black px-3 py-1 text-sm rounded-lg transition-colors ".concat(e.view===a?"bg-purple-600 text-white":"bg-gray-100 hover:bg-gray-200"),children:a.charAt(0).toUpperCase()+a.slice(1)},a))})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(S).map(e=>{let[a,t]=e;return(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full mr-1",style:{backgroundColor:t.borderColor}}),(0,s.jsx)("span",{className:"text-xs text-gray-600 capitalize",children:a})]},a)})})]})},onSelectEvent:c,eventPropGetter:()=>({style:{backgroundColor:"transparent",border:"none",borderRadius:"4px",boxShadow:"none"}})})})})}var z=t(35906),M=t(25848),R=t(76046),D=t(16413),L=t(547);let _=()=>{let e=(0,z.jE)();return(0,M.n)({mutationFn:async e=>{var a;let t=await fetch("/api/calendarSuggestions?id=".concat(e)),s=await t.json();if(!t.ok)throw Error(s.message||"Failed to fetch AI tips");return(null==s?void 0:null===(a=s.data)||void 0===a?void 0:a.result)||[]},onSuccess:(a,t)=>{e.setQueryData(["aiTips",t],a)},onError:e=>{console.error("Error fetching AI tips:",e.message)}})},I=()=>(0,L.I)({queryKey:["calendarList"],queryFn:async()=>{let e=await fetch("/api/calendarList"),a=await e.json();return(null==a?void 0:a.data)||[]},staleTime:36e5}),T=()=>{let e=(0,z.jE)();return(0,M.n)({mutationFn:async e=>{let a=await fetch("/api/calendarDetails?id=".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});if(!a.ok)throw Error((await a.json().catch(()=>({}))).message||"Failed to fetch calendar details");return a.json()},onSuccess:a=>{var t;e.setQueryData(["calendar",null==a?void 0:null===(t=a.data)||void 0===t?void 0:t._id],a)},onError:e=>{console.error("Error fetching calendar details:",e)}})};var V=t(12507),F=t(5565),O=t(65654);function H(e){let{open:a,handleModal:t,calendarId:l}=e,[r,n]=(0,o.useState)(""),[i,d]=(0,o.useState)(O.X.EDITOR),[c,x]=(0,o.useState)(!1),[u,m]=(0,o.useState)(""),h=(0,z.jE)(),b=async e=>{e.preventDefault(),x(!0),m("");try{let e=await fetch("/api/addCollaborator",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,role:i,calendarId:l})}),s=await e.json();if(s.success)n(""),d(O.X.EDITOR),t(!1),h.invalidateQueries({queryKey:["calendarEvents"]});else{var a;m((null===(a=s.data)||void 0===a?void 0:a.error)||"Failed to add collaborator")}}catch(e){console.error("Error adding collaborator:",e),m("An unexpected error occurred")}finally{x(!1)}};return(0,s.jsx)(s.Fragment,{children:a&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Add Collaborator"}),(0,s.jsx)("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-gray-700","aria-label":"Close modal",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsxs)("form",{onSubmit:b,children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,s.jsx)("input",{type:"email",id:"email",value:r,onChange:e=>n(e.target.value),className:"text-black w-full px-3 py-2 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-[#7a0860]",placeholder:"user@example.com",required:!0})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,s.jsxs)("select",{id:"role",value:i,onChange:e=>d(e.target.value),className:"text-black w-full px-3 py-2 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-[#7a0860]",children:[(0,s.jsx)("option",{value:O.X.EDITOR,children:"Editor"}),(0,s.jsx)("option",{value:O.X.OWNER,children:"Viewer"})]}),u&&(0,s.jsx)("p",{className:"text-red-500 mt-2 text-sm",children:u})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:c,children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"px-4 py-2 bg-[#7a0860] text-white rounded-md hover:bg-[#5d064a] disabled:opacity-50",disabled:c,children:c?"Adding...":"Add Collaborator"})]})]})]})})})}let P=()=>{let e=(0,z.jE)();return{setSelectedCalendarId:a=>{e.setQueryData(["selectedCalendarId"],a)},getSelectedCalendarId:()=>e.getQueryData(["selectedCalendarId"])}},B=e=>e?e.map(e=>{let a=new Date(e.date);return isNaN(a.getTime())?(console.error("Invalid date string: ".concat(e.date)),{title:e.title,start:new Date,end:new Date,allDay:!0,description:e.description,type:e.type,audienceFocus:e.audienceFocus,theme:e.theme,_id:e._id}):{title:e.title,start:a,end:a,allDay:!0,description:e.description,type:e.type,audienceFocus:e.audienceFocus,theme:e.theme,_id:e._id}}):[];function W(){var e,a,t;let[l,n]=(0,o.useState)("month"),[i,d]=(0,o.useState)({title:"",start:"",end:""}),[c,x]=(0,o.useState)(!1),[u,m]=(0,o.useState)(null),[h,b]=(0,o.useState)([]),[f,p]=(0,o.useState)(!1),v=(0,R.useRouter)(),{mutate:g}=T(),{mutate:j}=_(),w=(0,z.jE)(),{data:y}=(0,V.x)(),{data:N=[],isLoading:k}=I(),{setSelectedCalendarId:C,getSelectedCalendarId:S}=P(),E=(0,o.useCallback)(e=>{g(e,{onSuccess:a=>{m(null==a?void 0:a.data),C(e),j(e,{onSuccess:e=>{b(e)}})},onError:e=>{console.error("Failed:",e.message)}})},[g,j]);(0,o.useEffect)(()=>{if((null==N?void 0:N.length)>0){let e=S(),a=e||N[0]._id;e||C(a),E(a)}},[N]);let L=(0,o.useMemo)(()=>B(null==u?void 0:u.events),[null==u?void 0:u.events]),O=(0,o.useCallback)(()=>{var e;return(null===(e=document.cookie.split("; ").find(e=>e.startsWith("access_token=")))||void 0===e?void 0:e.split("=")[1])||null},[]),W=(0,o.useCallback)(e=>{n(e)},[]),q=(0,o.useCallback)(e=>{d({title:"",start:e.start.toISOString(),end:e.end.toISOString()}),x(!0)},[]),Q=(0,o.useCallback)(e=>{let{name:a,value:t}=e.target;d(e=>({...e,[a]:t}))},[]),G=(0,M.n)({mutationFn:async e=>(await fetch("/api/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json(),onSuccess:()=>{w.invalidateQueries({queryKey:["calendarEvents"]}),x(!1)}}),U=(0,o.useCallback)(()=>{if(!i.title||!i.start||!i.end){alert("Please fill in all fields.");return}G.mutate(i)},[i,G]),X=(0,o.useCallback)(e=>{v.push("/eventDetails?eventId=".concat(e._id))},[v]),J=(0,o.useCallback)(()=>{let e=encodeURIComponent(JSON.stringify({access_token:O()}));v.push("/onboarding?access_token=".concat(e))},[O,v]),K=e=>{p(e)};return(0,s.jsxs)("div",{className:"bg-white w-full",children:[(0,s.jsx)(D.A,{editor:!1,handleApproveChanges:()=>{},profile:y}),(0,s.jsxs)("div",{className:"flex w-full bg-white",children:[(0,s.jsxs)("div",{className:"jsx-dbd663b4a4c9323a w-[22%] h-[86vh] p-4 bg-gradient-to-b from-gray-50 to-gray-100 shadow-xl flex flex-col justify-between border-r border-gray-200",children:[(0,s.jsxs)("div",{className:"jsx-dbd663b4a4c9323a mb-6",children:[(0,s.jsxs)("div",{className:"jsx-dbd663b4a4c9323a flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"jsx-dbd663b4a4c9323a text-xl font-bold text-gray-800 flex items-center",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"jsx-dbd663b4a4c9323a h-5 w-5 mr-2 text-purple-600",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd",className:"jsx-dbd663b4a4c9323a"})}),"AI Tips"]}),(0,s.jsxs)("span",{className:"jsx-dbd663b4a4c9323a text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:[(null==h?void 0:h.length)||0," suggestions"]})]}),(0,s.jsx)("div",{className:"jsx-dbd663b4a4c9323a h-[35vh] space-y-3 overflow-y-auto pr-2 custom-scrollbar",children:(null==h?void 0:h.length)>0?h.map((e,a)=>{var t;return(0,s.jsxs)("div",{className:"jsx-dbd663b4a4c9323a bg-white p-3 rounded-lg border border-gray-200 hover:border-purple-300 transition-all duration-200 shadow-sm hover:shadow-md group",children:[(0,s.jsx)("p",{className:"jsx-dbd663b4a4c9323a text-gray-700 line-clamp-3 group-hover:line-clamp-none transition-all duration-200 text-sm",children:null!==(t=null==e?void 0:e.description)&&void 0!==t?t:e}),(0,s.jsx)("div",{className:"jsx-dbd663b4a4c9323a mt-2 flex justify-end",children:(0,s.jsxs)("button",{className:"jsx-dbd663b4a4c9323a text-xs text-purple-600 hover:text-purple-800 flex items-center",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"jsx-dbd663b4a4c9323a h-3 w-3 mr-1",children:[(0,s.jsx)("path",{d:"M7 9a2 2 0 012-2h6a2 2 0 012 2v6a2 2 0 01-2 2H9a2 2 0 01-2-2V9z",className:"jsx-dbd663b4a4c9323a"}),(0,s.jsx)("path",{d:"M5 3a2 2 0 00-2 2v6a2 2 0 002 2V5h8a2 2 0 00-2-2H5z",className:"jsx-dbd663b4a4c9323a"})]}),"Copy"]})})]},a)}):(0,s.jsxs)("div",{className:"jsx-dbd663b4a4c9323a flex flex-col items-center justify-center h-full text-center p-4",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"jsx-dbd663b4a4c9323a h-10 w-10 text-gray-300 mb-2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z",className:"jsx-dbd663b4a4c9323a"})}),(0,s.jsx)("p",{className:"jsx-dbd663b4a4c9323a text-gray-500 text-sm",children:"No AI tips available"})]})})]}),(0,s.jsxs)("div",{className:"jsx-dbd663b4a4c9323a",children:[(0,s.jsxs)("div",{className:"jsx-dbd663b4a4c9323a flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"jsx-dbd663b4a4c9323a text-xl font-bold text-gray-800 flex items-center",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"jsx-dbd663b4a4c9323a h-5 w-5 mr-2 text-blue-600",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd",className:"jsx-dbd663b4a4c9323a"})}),"Brand Calendars"]}),(0,s.jsxs)("span",{className:"jsx-dbd663b4a4c9323a text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:[(null==N?void 0:N.length)||0," calendars"]})]}),(0,s.jsx)("div",{className:"jsx-dbd663b4a4c9323a h-[35vh] overflow-y-auto pr-2 custom-scrollbar",children:k?(0,s.jsx)("div",{className:"jsx-dbd663b4a4c9323a space-y-3",children:[void 0,void 0,void 0].map((e,a)=>(0,s.jsx)("div",{className:"jsx-dbd663b4a4c9323a animate-pulse bg-gray-200 rounded-lg p-3 h-20"},a))}):(null==N?void 0:N.length)>0?N.map(e=>{var a;return(0,s.jsxs)("div",{onClick:()=>E(e._id),className:"jsx-dbd663b4a4c9323a mb-3 cursor-pointer bg-white p-3 rounded-lg border border-gray-200 hover:border-blue-300 transition-all duration-200 shadow-sm hover:shadow-md",children:[(0,s.jsxs)("div",{className:"jsx-dbd663b4a4c9323a flex justify-between items-start mb-1",children:[(0,s.jsx)("p",{className:"jsx-dbd663b4a4c9323a text-gray-800 font-medium text-sm truncate",children:e.theme}),(0,s.jsx)("span",{className:"jsx-dbd663b4a4c9323a text-xs bg-blue-50 text-blue-600 px-2 py-0.5 rounded-full",children:"Active"})]}),(0,s.jsx)("div",{className:"jsx-dbd663b4a4c9323a mb-1",children:(0,s.jsx)("div",{className:"jsx-dbd663b4a4c9323a w-full bg-gray-200 rounded-full h-1.5",children:(0,s.jsx)("div",{style:{width:"".concat(80,"%")},className:"jsx-dbd663b4a4c9323a bg-blue-600 h-1.5 rounded-full"})})}),(0,s.jsxs)("div",{className:"jsx-dbd663b4a4c9323a flex justify-between items-center",children:[(0,s.jsx)("div",{className:"jsx-dbd663b4a4c9323a flex -space-x-1.5",children:null==e?void 0:null===(a=e.collaborators)||void 0===a?void 0:a.map(e=>(0,s.jsx)("div",{title:e.name,className:"jsx-dbd663b4a4c9323a w-6 h-6 rounded-full bg-gradient-to-br from-purple-200 to-fuchsia-200 border-2 border-white flex items-center justify-center text-xs font-medium text-purple-800 shadow-sm",children:e.name[0].toUpperCase()},e._id))}),(0,s.jsxs)("span",{className:"jsx-dbd663b4a4c9323a text-xs text-gray-500",children:[e.progress||80,"% complete"]})]})]},e._id)}):(0,s.jsxs)("div",{className:"jsx-dbd663b4a4c9323a flex flex-col items-center justify-center h-full text-center p-4",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"jsx-dbd663b4a4c9323a h-10 w-10 text-gray-300 mb-2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z",className:"jsx-dbd663b4a4c9323a"})}),(0,s.jsx)("p",{className:"jsx-dbd663b4a4c9323a text-gray-500 text-sm",children:"No calendars found"}),(0,s.jsx)("button",{className:"jsx-dbd663b4a4c9323a mt-2 text-xs text-blue-600 hover:text-blue-800",children:"Create new calendar"})]})})]}),(0,s.jsx)(r(),{id:"dbd663b4a4c9323a",children:".custom-scrollbar.jsx-dbd663b4a4c9323a::-webkit-scrollbar{width:4px}.custom-scrollbar.jsx-dbd663b4a4c9323a::-webkit-scrollbar-track{background:#f1f1f1;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px}.custom-scrollbar.jsx-dbd663b4a4c9323a::-webkit-scrollbar-thumb{background:#c7c7c7;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px}.custom-scrollbar.jsx-dbd663b4a4c9323a::-webkit-scrollbar-thumb:hover{background:#a0a0a0}"})]}),(0,s.jsxs)("div",{className:"w-[78%] p-6",children:[(0,s.jsx)("div",{className:"text-black text-base",children:(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4 p-4 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl shadow-sm border border-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"p-2 bg-white rounded-lg shadow-xs border border-gray-200",children:(0,s.jsx)(F.default,{alt:"Calendar icon",src:"/images/calendarTask.svg",width:24,height:24,priority:!0,className:"text-purple-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:(null==u?void 0:u.theme)||"My Calendar"}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 flex items-center mt-1",children:[(0,s.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-400 mr-2 animate-pulse"}),"Last updated ",new Date().toLocaleDateString()]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"text-lg font-semibold text-purple-700",children:"80%"}),(0,s.jsx)("div",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Complete"})]}),(0,s.jsxs)("div",{className:"relative w-12 h-12",children:[(0,s.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 36 36",children:[(0,s.jsx)("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#E0E7FF",strokeWidth:"3"}),(0,s.jsx)("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#7C3AED",strokeWidth:"3",strokeDasharray:"80, 100",strokeLinecap:"round"})]}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-purple-600",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})})]})]})]})}),(0,s.jsx)(A,{events:L,view:l,onViewChange:W,onSelectSlot:q,showModal:c,onAddEvent:U,onCloseModal:()=>x(!1),newEvent:i,onNewEventChange:Q,handleSelectEvent:X})]})]}),(0,s.jsx)(H,{handleModal:e=>K(e),open:f,calendarId:null==u?void 0:u._id}),(0,s.jsxs)("div",{className:"flex w-full justify-between items-center px-6",children:[(0,s.jsxs)("button",{onClick:J,className:"jsx-c123cfefff58af9a relative group overflow-hidden transition-all duration-300 ease-[cubic-bezier(0.65,0,0.35,1)] w-[19%] min-w-[180px]",children:[(0,s.jsx)("div",{className:"jsx-c123cfefff58af9a absolute inset-0 bg-gradient-to-br from-purple-600 to-fuchsia-700 rounded-full shadow-lg"}),(0,s.jsx)("div",{className:"jsx-c123cfefff58af9a absolute inset-0 rounded-full bg-[length:200%_200%] bg-gradient-to-r from-transparent via-white/30 to-transparent opacity-0 group-hover:opacity-100 group-hover:animate-[shine_1.5s_ease-in-out_infinite]"}),(0,s.jsx)("div",{className:"jsx-c123cfefff58af9a relative z-10 flex items-center justify-center h-full w-full px-5 py-2.5",children:(0,s.jsxs)("span",{className:"jsx-c123cfefff58af9a text-white font-semibold tracking-wide text-sm uppercase flex items-center",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"jsx-c123cfefff58af9a h-5 w-5 mr-2 transition-transform duration-300 group-hover:rotate-90",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd",className:"jsx-c123cfefff58af9a"})}),"Add New Calendar"]})}),(0,s.jsx)("div",{className:"jsx-c123cfefff58af9a absolute inset-0 overflow-hidden rounded-full",children:(0,s.jsx)("span",{className:"jsx-c123cfefff58af9a absolute bg-white/20 rounded-full scale-0 opacity-0 group-active:scale-100 group-active:opacity-100 transition-transform duration-500 origin-center"})}),(0,s.jsx)(r(),{id:"c123cfefff58af9a",children:"@-webkit-keyframes shine{0%{background-position:-100%0}100%{background-position:200%0}}@-moz-keyframes shine{0%{background-position:-100%0}100%{background-position:200%0}}@-o-keyframes shine{0%{background-position:-100%0}100%{background-position:200%0}}@keyframes shine{0%{background-position:-100%0}100%{background-position:200%0}}"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 mr-10",children:[(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Collaborators"}),(0,s.jsxs)("p",{className:"text-xs text-gray-400",children:[(null==u?void 0:null===(e=u.collaborators)||void 0===e?void 0:e.length)||0," team members"]})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("div",{className:"flex -space-x-2",children:[null==u?void 0:null===(a=u.collaborators)||void 0===a?void 0:a.slice(0,5).map(e=>(0,s.jsxs)("div",{onClick:()=>K(!0),className:"relative group cursor-pointer w-8 h-8 rounded-full bg-gray-300 flex items-center justify-center text-white font-medium hover:z-10 hover:ring-2 hover:ring-purple-500 transition-all",title:e.name,children:[(0,s.jsx)("span",{className:"text-sm",children:e.name[0].toUpperCase()}),(0,s.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-500 to-fuchsia-600 opacity-0 group-hover:opacity-70 transition-opacity"})]},e._id)),(null==u?void 0:null===(t=u.collaborators)||void 0===t?void 0:t.length)>5&&(0,s.jsxs)("div",{className:"relative group w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-600 font-medium text-xs border border-gray-200",children:["+",u.collaborators.length-5,(0,s.jsx)("div",{className:"absolute inset-0 rounded-full bg-white opacity-0 group-hover:opacity-80 transition-opacity"})]})]}),(0,s.jsx)("button",{onClick:()=>K(!0),className:"ml-3 w-8 h-8 rounded-full bg-gradient-to-r from-purple-600 to-fuchsia-700 flex items-center justify-center text-white shadow-md hover:shadow-lg transition-all active:scale-95",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})})})]})]})]})]})}},12507:(e,a,t)=>{"use strict";t.d(a,{x:()=>l});var s=t(547);let l=()=>(0,s.I)({queryKey:["profile"],queryFn:async()=>{var e;let a=await fetch("/api/profile"),t=await a.json();return(null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.result)||[]},staleTime:36e5})},65654:(e,a,t)=>{"use strict";function s(e){let a=new Date,t=new Date(e),s=Math.floor((a.getTime()-t.getTime())/1e3),l={year:31536e3,month:2592e3,day:86400,hour:3600,minute:60};if(s>=l.year){let e=Math.floor(s/l.year);return"".concat(e," year").concat(e>1?"s":""," ago")}if(s>=l.month){let e=Math.floor(s/l.month);return"".concat(e," month").concat(e>1?"s":""," ago")}if(s>=l.day){let e=Math.floor(s/l.day);return"".concat(e," day").concat(e>1?"s":""," ago")}if(s>=l.hour){let e=Math.floor(s/l.hour);return"".concat(e," hour").concat(e>1?"s":""," ago")}{if(!(s>=l.minute))return"Just now";let e=Math.floor(s/l.minute);return"".concat(e," minute").concat(e>1?"s":""," ago")}}t.d(a,{X:()=>l,f:()=>s});var l=function(e){return e.ADMIN="admin",e.EDITOR="editor",e.OWNER="owner",e}({})}},e=>{var a=a=>e(e.s=a);e.O(0,[431,586,245,239,874,472,441,517,977],()=>a(87808)),_N_E=e.O()}]);